# 分布式任务调度系统管理后台

## 概述

这是一个基于Web的分布式任务调度系统管理后台，提供直观的图形界面来监控和管理整个调度系统。

## 功能特性

### 🎯 核心功能

1. **系统概览仪表板**
   - 实时显示关键指标（活跃GPU、总任务数、队列长度、失败任务）
   - 任务执行趋势图表
   - GPU状态分布饼图
   - 最近告警信息

2. **GPU管理**
   - GPU节点列表展示
   - GPU状态统计（活跃、离线、故障）
   - GPU操作（心跳、故障标记、恢复）
   - 添加新GPU节点
   - 按任务类型查询GPU

3. **任务监控**
   - 任务状态统计（排队、处理中、已完成、失败、超时）
   - 任务列表展示
   - 任务详情查看
   - 任务进度跟踪

4. **系统健康检查**
   - 整体系统健康状态
   - 各组件健康状态（GPU、队列、集群）
   - 实时健康指标

5. **告警管理**
   - 告警列表展示
   - 告警统计信息
   - 告警确认功能

6. **系统设置**
   - API配置管理
   - 刷新间隔设置
   - 系统信息展示

## 技术架构

### 前端技术栈
- **HTML5**: 页面结构
- **CSS3**: 样式设计，使用Bootstrap 5框架
- **JavaScript ES6+**: 交互逻辑
- **Chart.js**: 图表展示
- **Bootstrap Icons**: 图标库

### 设计特点
- **响应式设计**: 支持桌面和移动设备
- **现代化UI**: 使用渐变色彩和卡片式布局
- **实时更新**: 自动刷新数据，支持手动刷新
- **交互友好**: 直观的操作界面和反馈

## 文件结构

```
frontWeb/
├── index.html          # 主页面文件
├── js/
│   └── app.js         # 主应用脚本
└── README.md          # 说明文档
```

## 使用方法

### 1. 启动管理后台

1. 确保调度系统正在运行（默认端口8080）
2. 在浏览器中打开 `index.html` 文件
3. 首次使用需要配置API连接信息

### 2. 配置API连接

1. 点击左侧导航栏的"系统设置"
2. 填写以下配置信息：
   - **API密钥**: 调度系统的API密钥
   - **服务器地址**: 调度系统API地址（如：http://localhost:8080）
   - **刷新间隔**: 数据自动刷新间隔（秒）

3. 点击"保存配置"按钮

### 3. 功能使用

#### 系统概览
- 查看系统整体运行状态
- 监控关键指标变化
- 查看图表趋势

#### GPU管理
- 查看所有GPU节点状态
- 执行GPU操作（心跳、故障标记、恢复）
- 添加新的GPU节点
- 按任务类型筛选GPU

#### 任务监控
- 查看任务执行统计
- 监控任务队列状态
- 查看任务详情

#### 健康检查
- 监控系统各组件健康状态
- 查看实时健康指标

#### 告警管理
- 查看系统告警信息
- 确认告警处理

## API接口说明

管理后台通过以下API接口与调度系统交互：

### 监控相关
- `GET /api/v2/monitoring/overview` - 获取监控概览
- `GET /api/v2/monitoring/health` - 获取健康状态
- `GET /api/v2/monitoring/metrics` - 获取监控指标

### GPU管理
- `GET /api/v2/gpus` - 获取GPU列表
- `POST /api/v2/gpus/register` - 注册GPU
- `POST /api/v2/gpus/{gpuId}/heartbeat` - GPU心跳
- `POST /api/v2/gpus/{gpuId}/fault` - 标记GPU故障
- `POST /api/v2/gpus/{gpuId}/recover` - 恢复GPU
- `GET /api/v2/gpus/by-task-type/{taskType}` - 按任务类型查询GPU

### 任务管理
- `GET /api/v2/tasks` - 获取任务列表
- `GET /api/v2/tasks/{taskId}` - 获取任务详情

## 配置说明

### 默认配置
```javascript
{
    "apiBaseUrl": "http://localhost:8080/api/v2",
    "apiKey": "xfsdfs3fsdfsdfasdfjoiojg",
    "refreshInterval": 30000
}
```

### 环境变量支持
可以通过修改 `app.js` 中的默认配置来适配不同环境。

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 开发说明

### 本地开发
1. 克隆项目到本地
2. 使用HTTP服务器（如Live Server）运行
3. 确保调度系统API可访问

### 自定义开发
1. 修改 `app.js` 中的API调用逻辑
2. 调整 `index.html` 中的页面结构
3. 更新CSS样式以匹配需求

## 故障排除

### 常见问题

1. **无法加载数据**
   - 检查API地址配置是否正确
   - 确认调度系统是否正在运行
   - 检查网络连接

2. **图表不显示**
   - 确认Chart.js库已正确加载
   - 检查浏览器控制台错误信息

3. **自动刷新不工作**
   - 检查刷新间隔配置
   - 确认浏览器允许JavaScript执行

### 调试方法
1. 打开浏览器开发者工具
2. 查看控制台错误信息
3. 检查网络请求状态
4. 验证API响应数据格式

## 更新日志

### v1.0.0 (2024-01-15)
- 初始版本发布
- 实现基础监控功能
- 支持GPU管理
- 支持任务监控
- 支持健康检查
- 支持告警管理

## 贡献指南

欢迎提交Issue和Pull Request来改进管理后台功能。

## 许可证

本项目采用MIT许可证。
